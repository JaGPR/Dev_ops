{"ast":null,"code":"import _regeneratorRuntime from\"C:/dev/react-notes-app/notes-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/dev/react-notes-app/notes-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{useSelector}from\"react-redux\";import{store}from\"../store\";import{CREATE_NOTES_ERROR,CREATE_NOTES_LOADING,CREATE_NOTES_SUCCESS,DELETE_NOTES_ERROR,DELETE_NOTES_LOADING,DELETE_NOTES_SUCCESS,GET_NOTES_ERROR,GET_NOTES_LOADING,GET_NOTES_SUCCESS,UPDATE_NOTES_ERROR,UPDATE_NOTES_LOADING,UPDATE_NOTES_SUCCESS}from\"./note_types\";import{BASE_URL}from\"../../constants/config\";import{LOGOUT}from\"../users/user_types\";export var getNotes=function getNotes(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var token,res,_res$data,status,message,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:token=store.getState().userReducer.token;dispatch({type:GET_NOTES_LOADING});_context.prev=2;_context.next=5;return axios(BASE_URL+\"/note\",{method:\"get\",headers:{Authorization:token}});case 5:res=_context.sent;_res$data=res.data,status=_res$data.status,message=_res$data.message,data=_res$data.data;if(status==1)dispatch({type:GET_NOTES_SUCCESS,payload:data});else if(status==2)dispatch({type:LOGOUT});else dispatch({type:GET_NOTES_ERROR});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);dispatch({type:GET_NOTES_ERROR});case 13:case\"end\":return _context.stop();}},_callee,null,[[2,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var createNotes=function createNotes(obj){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var token,res,_res$data2,status,message;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:token=store.getState().userReducer.token;dispatch({type:CREATE_NOTES_LOADING});_context2.prev=2;_context2.next=5;return axios(BASE_URL+\"/note/create\",{method:\"post\",data:obj,headers:{Authorization:token}});case 5:res=_context2.sent;_res$data2=res.data,status=_res$data2.status,message=_res$data2.message;if(status==1){dispatch({type:CREATE_NOTES_SUCCESS});dispatch(getNotes());}else if(status==2)dispatch({type:LOGOUT});else dispatch({type:CREATE_NOTES_ERROR});_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](2);dispatch({type:CREATE_NOTES_ERROR});case 13:case\"end\":return _context2.stop();}},_callee2,null,[[2,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var updateNotes=function updateNotes(id,obj){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var token,res,_res$data3,status,message;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:token=store.getState().userReducer.token;dispatch({type:UPDATE_NOTES_LOADING});_context3.prev=2;_context3.next=5;return axios(BASE_URL+\"/note/\",{method:\"patch\",data:obj,headers:{Authorization:token,id:id}});case 5:res=_context3.sent;_res$data3=res.data,status=_res$data3.status,message=_res$data3.message;if(status==1){dispatch({type:UPDATE_NOTES_SUCCESS});dispatch(getNotes());}else if(status==2)dispatch({type:LOGOUT});else dispatch({type:UPDATE_NOTES_ERROR});_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](2);dispatch({type:UPDATE_NOTES_ERROR});case 13:case\"end\":return _context3.stop();}},_callee3,null,[[2,10]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var deleteNotes=function deleteNotes(id){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var token,res,_res$data4,status,message;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:token=store.getState().userReducer.token;dispatch({type:DELETE_NOTES_LOADING});_context4.prev=2;_context4.next=5;return axios(BASE_URL+\"/note/\",{method:\"delete\",headers:{Authorization:token,id:id}});case 5:res=_context4.sent;_res$data4=res.data,status=_res$data4.status,message=_res$data4.message;if(status==1){dispatch({type:DELETE_NOTES_SUCCESS});dispatch(getNotes());}else if(status==2)dispatch({type:LOGOUT});else dispatch({type:DELETE_NOTES_ERROR});_context4.next=13;break;case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](2);dispatch({type:DELETE_NOTES_ERROR});case 13:case\"end\":return _context4.stop();}},_callee4,null,[[2,10]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","useSelector","store","CREATE_NOTES_ERROR","CREATE_NOTES_LOADING","CREATE_NOTES_SUCCESS","DELETE_NOTES_ERROR","DELETE_NOTES_LOADING","DELETE_NOTES_SUCCESS","GET_NOTES_ERROR","GET_NOTES_LOADING","GET_NOTES_SUCCESS","UPDATE_NOTES_ERROR","UPDATE_NOTES_LOADING","UPDATE_NOTES_SUCCESS","BASE_URL","LOGOUT","getNotes","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","token","res","_res$data","status","message","data","wrap","_callee$","_context","prev","next","getState","userReducer","type","method","headers","Authorization","sent","payload","t0","stop","_x","apply","arguments","createNotes","obj","_ref2","_callee2","_res$data2","_callee2$","_context2","_x2","updateNotes","id","_ref3","_callee3","_res$data3","_callee3$","_context3","_x3","deleteNotes","_ref4","_callee4","_res$data4","_callee4$","_context4","_x4"],"sources":["C:/dev/react-notes-app/notes-frontend/src/redux/notes/note_actions.js"],"sourcesContent":["import axios from \"axios\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { store } from \"../store\"\r\nimport { CREATE_NOTES_ERROR, CREATE_NOTES_LOADING, CREATE_NOTES_SUCCESS, DELETE_NOTES_ERROR, DELETE_NOTES_LOADING, DELETE_NOTES_SUCCESS, GET_NOTES_ERROR, GET_NOTES_LOADING, GET_NOTES_SUCCESS, UPDATE_NOTES_ERROR, UPDATE_NOTES_LOADING, UPDATE_NOTES_SUCCESS } from \"./note_types\"\r\nimport { BASE_URL } from \"../../constants/config\"\r\nimport { LOGOUT } from \"../users/user_types\"\r\n\r\n\r\nexport const getNotes = ()=>async(dispatch)=>{\r\n    const {token} = store.getState().userReducer\r\n    dispatch({type: GET_NOTES_LOADING})\r\n    try {\r\n        const res = await axios(BASE_URL+\"/note\", {\r\n            method: \"get\",\r\n            headers: {\r\n                Authorization: token\r\n            }\r\n        })\r\n        const {status, message, data} = res.data\r\n        if(status == 1)\r\n        dispatch({type: GET_NOTES_SUCCESS, payload: data})\r\n        else if(status == 2)\r\n        dispatch({type: LOGOUT})\r\n        else\r\n        dispatch({type: GET_NOTES_ERROR})\r\n    } catch (error) {\r\n        dispatch({type: GET_NOTES_ERROR})\r\n    }\r\n}\r\n\r\nexport const createNotes = (obj)=>async(dispatch)=>{\r\n    const {token} = store.getState().userReducer\r\n    dispatch({type: CREATE_NOTES_LOADING})\r\n    try {\r\n        const res = await axios(BASE_URL+\"/note/create\", {\r\n            method: \"post\",\r\n            data: obj,\r\n            headers: {\r\n                Authorization: token\r\n            }\r\n        })\r\n        const {status, message} = res.data\r\n        if(status == 1)\r\n        {\r\n            dispatch({type: CREATE_NOTES_SUCCESS})\r\n            dispatch(getNotes())\r\n        }\r\n        else if(status == 2)\r\n        dispatch({type: LOGOUT})\r\n        else\r\n        dispatch({type: CREATE_NOTES_ERROR})\r\n    } catch (error) {\r\n        dispatch({type: CREATE_NOTES_ERROR})\r\n    }\r\n}\r\n\r\nexport const updateNotes = (id, obj)=>async(dispatch)=>{\r\n    const {token} = store.getState().userReducer\r\n    dispatch({type: UPDATE_NOTES_LOADING})\r\n    try {\r\n        const res = await axios(BASE_URL+\"/note/\", {\r\n            method: \"patch\",\r\n            data: obj,\r\n            headers: {\r\n                Authorization: token,\r\n                id: id\r\n            }\r\n        })\r\n        const {status, message} = res.data\r\n        if(status == 1)\r\n        {\r\n            dispatch({type: UPDATE_NOTES_SUCCESS})\r\n            dispatch(getNotes())\r\n        }\r\n        else if(status == 2)\r\n        dispatch({type: LOGOUT})\r\n        else\r\n        dispatch({type: UPDATE_NOTES_ERROR})\r\n    } catch (error) {\r\n        dispatch({type: UPDATE_NOTES_ERROR})\r\n    }\r\n}\r\n\r\nexport const deleteNotes = (id)=>async(dispatch)=>{\r\n    const {token} = store.getState().userReducer\r\n    dispatch({type: DELETE_NOTES_LOADING})\r\n    try {\r\n        const res = await axios(BASE_URL+\"/note/\", {\r\n            method: \"delete\",\r\n            headers: {\r\n                Authorization: token,\r\n                id: id\r\n            }\r\n        })\r\n        const {status, message} = res.data\r\n        if(status == 1)\r\n        {\r\n            dispatch({type: DELETE_NOTES_SUCCESS})\r\n            dispatch(getNotes())\r\n        }\r\n        else if(status == 2)\r\n        dispatch({type: LOGOUT})\r\n        else\r\n        dispatch({type: DELETE_NOTES_ERROR})\r\n    } catch (error) {\r\n        dispatch({type: DELETE_NOTES_ERROR})\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}